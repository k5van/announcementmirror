/*
 nanoScrollerJS - v0.8.7 - 2015
 http://jamesflorentino.github.com/nanoScrollerJS/
 Copyright (c) 2015 James Florentino; Licensed MIT */
 (function(c){return"function"===typeof define&&define.amd?define(["jquery"],function(d){return c(d,window,document)}):"object"===typeof exports?module.exports=c(require("jquery"),window,document):c(nQuery,window,document)})(function(c,d,g){var v={paneClass:"nano-pane",sliderClass:"nano-slider",contentClass:"nano-content",enabledClass:"has-scrollbar",flashedClass:"flashed",activeClass:"active",iOSNativeScrolling:!1,preventPageScrolling:!1,disableResize:!1,alwaysVisible:!1,flashDelay:1500,sliderMinHeight:20,
 sliderMaxHeight:null,documentContext:null,windowContext:null};var q="Microsoft Internet Explorer"===d.navigator.appName&&/msie 7./i.test(d.navigator.appVersion)&&d.ActiveXObject;var k=null;var r=d.requestAnimationFrame;var m=d.cancelAnimationFrame;var w=g.createElement("div").style;var p=function(){var b,a;var n=["t","webkitT","MozT","msT","OT"];var f=b=0;for(a=n.length;b<a;f=++b){var c=n[f]+"ransform";if(c in w)return n[f].substr(0,n[f].length-1)}return!1}();var t=function(b){return!1===p?!1:""===
 p?b:p+b.charAt(0).toUpperCase()+b.substr(1)}("transform");var x=!1!==t;var y=function(){var b=g.createElement("div");var a=b.style;a.position="absolute";a.width="100px";a.height="100px";a.overflow="scroll";a.top="-9999px";g.body.appendChild(b);a=b.offsetWidth-b.clientWidth;g.body.removeChild(b);return a};var z=function(){var b=d.navigator.userAgent;var a=/(?=.+Mac OS X)(?=.+Firefox)/.test(b);if(!a)return!1;(b=/Firefox\/\d{2}\./.exec(b))&&(b=b[0].replace(/\D+/g,""));return a&&23<+b};var u=function(){function b(a,
 b){this.el=a;this.options=b;k||(k=y());this.$el=c(this.el);this.doc=c(this.options.documentContext||g);this.win=c(this.options.windowContext||d);this.body=this.doc.find("body");this.$content=this.$el.children("."+this.options.contentClass);this.$content.attr("tabindex",this.options.tabIndex||0);this.content=this.$content[0];this.previousPosition=0;this.options.iOSNativeScrolling&&null!=this.el.style.WebkitOverflowScrolling?this.nativeScrolling():this.generate();this.createEvents();this.addEvents();
 this.reset()}b.prototype.preventScrolling=function(a,b){this.isActive&&("DOMMouseScroll"===a.type?("down"===b&&0<a.originalEvent.detail||"up"===b&&0>a.originalEvent.detail)&&a.preventDefault():"mousewheel"===a.type&&a.originalEvent&&a.originalEvent.wheelDelta&&("down"===b&&0>a.originalEvent.wheelDelta||"up"===b&&0<a.originalEvent.wheelDelta)&&a.preventDefault())};b.prototype.nativeScrolling=function(){this.$content.css({WebkitOverflowScrolling:"touch"});this.isActive=this.iOSNativeScrolling=!0};b.prototype.updateScrollValues=
 function(){var a=this.content;this.maxScrollTop=a.scrollHeight-a.clientHeight;this.prevScrollTop=this.contentScrollTop||0;this.contentScrollTop=a.scrollTop;a=this.contentScrollTop>this.previousPosition?"down":this.contentScrollTop<this.previousPosition?"up":"same";this.previousPosition=this.contentScrollTop;"same"!==a&&this.$el.trigger("update",{position:this.contentScrollTop,maximum:this.maxScrollTop,direction:a});this.iOSNativeScrolling||(this.maxSliderTop=this.paneHeight-this.sliderHeight,this.sliderTop=
 0===this.maxScrollTop?0:this.contentScrollTop*this.maxSliderTop/this.maxScrollTop)};b.prototype.setOnScrollStyles=function(){if(x){var a={};a[t]="translate(0, "+this.sliderTop+"px)"}else a={top:this.sliderTop};r?(m&&this.scrollRAF&&m(this.scrollRAF),this.scrollRAF=r(function(b){return function(){b.scrollRAF=null;return b.slider.css(a)}}(this))):this.slider.css(a)};b.prototype.createEvents=function(){this.events={down:function(a){return function(b){a.isBeingDragged=!0;a.offsetY=b.pageY-a.slider.offset().top;
 a.slider.is(b.target)||(a.offsetY=0);a.pane.addClass(a.options.activeClass);a.doc.bind("mousemove",a.events.drag).bind("mouseup",a.events.up);a.body.bind("mouseenter",a.events.enter);return!1}}(this),drag:function(a){return function(b){a.sliderY=b.pageY-a.$el.offset().top-a.paneTop-(a.offsetY||.5*a.sliderHeight);a.scroll();a.contentScrollTop>=a.maxScrollTop&&a.prevScrollTop!==a.maxScrollTop?a.$el.trigger("scrollend"):0===a.contentScrollTop&&0!==a.prevScrollTop&&a.$el.trigger("scrolltop");return!1}}(this),
 up:function(a){return function(b){a.isBeingDragged=!1;a.pane.removeClass(a.options.activeClass);a.doc.unbind("mousemove",a.events.drag).unbind("mouseup",a.events.up);a.body.unbind("mouseenter",a.events.enter);return!1}}(this),resize:function(a){return function(b){a.reset()}}(this),panedown:function(a){return function(b){a.sliderY=(b.offsetY||b.originalEvent.layerY)-.5*a.sliderHeight;a.scroll();a.events.down(b);return!1}}(this),scroll:function(a){return function(b){a.updateScrollValues();a.isBeingDragged||
 (a.iOSNativeScrolling||(a.sliderY=a.sliderTop,a.setOnScrollStyles()),null!=b&&(a.contentScrollTop>=a.maxScrollTop?(a.options.preventPageScrolling&&a.preventScrolling(b,"down"),a.prevScrollTop!==a.maxScrollTop&&a.$el.trigger("scrollend")):0===a.contentScrollTop&&(a.options.preventPageScrolling&&a.preventScrolling(b,"up"),0!==a.prevScrollTop&&a.$el.trigger("scrolltop"))))}}(this),wheel:function(a){return function(b){if(null!=b){if(b=b.delta||b.wheelDelta||b.originalEvent&&b.originalEvent.wheelDelta||
 -b.detail||b.originalEvent&&-b.originalEvent.detail)a.sliderY+=-b/3;a.scroll();return!1}}}(this),enter:function(a){return function(b){var f;if(a.isBeingDragged&&1!==(b.buttons||b.which))return(f=a.events).up.apply(f,arguments)}}(this)}};b.prototype.addEvents=function(){this.removeEvents();var a=this.events;this.options.disableResize||this.win.bind("resize",a.resize);this.iOSNativeScrolling||(this.slider.bind("mousedown",a.down),this.pane.bind("mousedown",a.panedown).bind("mousewheel DOMMouseScroll",
 a.wheel));this.$content.bind("scroll mousewheel DOMMouseScroll touchmove",a.scroll)};b.prototype.removeEvents=function(){var a=this.events;this.win.unbind("resize",a.resize);this.iOSNativeScrolling||(this.slider.unbind(),this.pane.unbind());this.$content.unbind("scroll mousewheel DOMMouseScroll touchmove",a.scroll)};b.prototype.generate=function(){var a;var b=this.options;var f=b.paneClass;var c=b.sliderClass;(a=this.$el.children("."+f)).length||a.children("."+c).length||this.$el.append('<div class="'+
 f+'"><div class="'+c+'" /></div>');this.pane=this.$el.children("."+f);this.slider=this.pane.find("."+c);if(0===k&&z()){var e=d.getComputedStyle(this.content,null).getPropertyValue("padding-right").replace(/[^0-9.]+/g,"");e={right:-14,paddingRight:+e+14}}else k&&(e={right:-k},this.$el.addClass(b.enabledClass));null!=e&&this.$content.css(e);return this};b.prototype.restore=function(){this.stopped=!1;this.iOSNativeScrolling||this.pane.show();this.addEvents()};b.prototype.reset=function(){if(this.iOSNativeScrolling)this.contentHeight=
 this.content.scrollHeight;else{this.$el.find("."+this.options.paneClass).length||this.generate().stop();this.stopped&&this.restore();var a=this.content;var b=a.style;var c=b.overflowY;q&&this.$content.css({height:this.$content.height()});var d=a.scrollHeight+k;var e=parseInt(this.$el.css("max-height"),10);0<e&&(this.$el.height(""),this.$el.height(a.scrollHeight>e?e:a.scrollHeight));e=this.pane.outerHeight(!1);var g=parseInt(this.pane.css("top"),10);var l=parseInt(this.pane.css("bottom"),10);l=e+g+
 l;var h=Math.round(l/d*e);h<this.options.sliderMinHeight?h=this.options.sliderMinHeight:null!=this.options.sliderMaxHeight&&h>this.options.sliderMaxHeight&&(h=this.options.sliderMaxHeight);"scroll"===c&&"scroll"!==b.overflowX&&(h+=k);this.maxSliderTop=l-h;this.contentHeight=d;this.paneHeight=e;this.paneOuterHeight=l;this.sliderHeight=h;this.paneTop=g;this.slider.height(h);this.events.scroll();this.pane.show();this.isActive=!0;a.scrollHeight===a.clientHeight||this.pane.outerHeight(!0)>=a.scrollHeight&&
 "scroll"!==c?(this.pane.hide(),this.isActive=!1):this.el.clientHeight===a.scrollHeight&&"scroll"===c?this.slider.hide():this.slider.show();this.pane.css({opacity:this.options.alwaysVisible?1:"",visibility:this.options.alwaysVisible?"visible":""});a=this.$content.css("position");("static"===a||"relative"===a)&&(a=parseInt(this.$content.css("right"),10))&&this.$content.css({right:"",marginRight:a});return this}};b.prototype.scroll=function(){if(this.isActive)return this.sliderY=Math.max(0,this.sliderY),
 this.sliderY=Math.min(this.maxSliderTop,this.sliderY),this.$content.scrollTop(this.maxScrollTop*this.sliderY/this.maxSliderTop),this.iOSNativeScrolling||(this.updateScrollValues(),this.setOnScrollStyles()),this};b.prototype.scrollBottom=function(a){if(this.isActive)return this.$content.scrollTop(this.contentHeight-this.$content.height()-a).trigger("mousewheel"),this.stop().restore(),this};b.prototype.scrollTop=function(a){if(this.isActive)return this.$content.scrollTop(+a).trigger("mousewheel"),this.stop().restore(),
 this};b.prototype.scrollTo=function(a){if(this.isActive)return this.scrollTop(this.$el.find(a).get(0).offsetTop),this};b.prototype.stop=function(){m&&this.scrollRAF&&(m(this.scrollRAF),this.scrollRAF=null);this.stopped=!0;this.removeEvents();this.iOSNativeScrolling||this.pane.hide();return this};b.prototype.destroy=function(){this.stopped||this.stop();!this.iOSNativeScrolling&&this.pane.length&&this.pane.remove();q&&this.$content.height("");this.$content.removeAttr("tabindex");this.$el.hasClass(this.options.enabledClass)&&
 (this.$el.removeClass(this.options.enabledClass),this.$content.css({right:""}));return this};b.prototype.flash=function(){if(!this.iOSNativeScrolling&&this.isActive)return this.reset(),this.pane.addClass(this.options.flashedClass),setTimeout(function(a){return function(){a.pane.removeClass(a.options.flashedClass)}}(this),this.options.flashDelay),this};return b}();c.fn.nanoScroller=function(b){return this.each(function(){var a;(a=this.nanoscroller)||(a=c.extend({},v,b),this.nanoscroller=a=new u(this,
 a));if(b&&"object"===typeof b){c.extend(a.options,b);if(null!=b.scrollBottom)return a.scrollBottom(b.scrollBottom);if(null!=b.scrollTop)return a.scrollTop(b.scrollTop);if(b.scrollTo)return a.scrollTo(b.scrollTo);if("bottom"===b.scroll)return a.scrollBottom(0);if("top"===b.scroll)return a.scrollTop(0);if(b.scroll&&b.scroll instanceof c)return a.scrollTo(b.scroll);if(b.stop)return a.stop();if(b.destroy)return a.destroy();if(b.flash)return a.flash()}return a.reset()})};c.fn.nanoScroller.Constructor=
 u});